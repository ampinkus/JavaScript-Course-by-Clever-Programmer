<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0" />
    <title>Document</title>
    <link rel="shortcut icon" href="#" />
  </head>

  <body>
    <script>
      //higher order functions:  map, filter, reduce
      //map ver: https://www.freecodecamp.org/espanol/news/javascript-map-como-utilizar-la-funcion-js-map-metodo-de-arreglo/
      // map loops trough all the array and returns an array with all the members after passing a transformation

      let result = [1, 2, 3, 4].map((number) => number * 2); // we double each number using map
      console.log(result);

      let modifiedArr = result.map(function (element, index) {
        console.log(index); // the index of the array that we are traversing
        console.log(element); // each element
        return element * 3;
      });
      console.log(modifiedArr);

      // arrow function with implicit return
      //let nameFunction = (arguments) => Function definition
      let sumArrow = (a, b) => a + b;
      console.log(sumArrow(5, 10));

      //with explicit return
      //let nameFunction = (arguments) => { Function definition }
      let tipArrow = (food, tip) => {
        //given a food amount and a tip calculate the total to pay
        tipAmount = (food * tip) / 100;
        total = food + tipAmount;
        return total;
      };

      let arr = [5, 6, 7, 8];
      const doubleMap = (numbers) => {
        // a function that returns the double of each number in the array
        return numbers.map((number) => number * 2);
      };
      console.log(doubleMap(arr));

      const modifiedArr01 = arr.map(function (element) {
        return element * 3;
      });
      console.log(modifiedArr01);

      //filter ver https://www.w3schools.com/jsref/jsref_filter.asp
      // create a filter that returns from an integer array an array with numbers greater than
      // filter [1,2,3,4,5,6] => [4,5,6]  greater than 3

      // Using a standard function:
      const numbers = [1, 2, 3, 4, 5, 6];
      const filter = (numbers, greaterThan) => {
        let result = [];
        for (const number of numbers) {
          if (number > greaterThan) {
            result.push(number);
          }
        }
        return result;
      };
      console.log(filter(numbers, 2));

      // Examples filter and map:

      //  The filter() method creates a shallow copy of a portion of a given array, filtered down to just the elements
      //  from the given array that pass the test implemented by the provided function.
      const numbers01 = [1, 2, 3, 4, 5, 6];
      // returns only the members that comply with the condition number > 3
      /*
          filter takes each element of the array numbers, put it in the variable number and checks
          if number > 3.  If its true it put number in an array called result
      */
      let result01 = numbers01.filter((number) => number > 3);
      console.log(result);

      // returns all the members of the array multiplied by 3
      /*
          map takes each element of the array numbers, put it in the variable number and
          multiply it by 3. Then it put it in an array called result
      */
      result = numbers.map((number) => number * 3);
      console.log(result);

      // example with array of objects
      const actors01 = [
        { name: "Johnny", netWorth: 200000 },
        { name: "Amber", netWorth: 1000 },
        { name: "Leonardo", netWorth: 300000 },
      ];
      /* filter takes each element of the array of objects, put each object in the variable actores and checks
          if actores.netWorth > 2000.  If its true it put the object stored in actores in an array of objects called result
      */
      result = actors01.filter((actores) => actores.netWorth > 2000);
      console.log(result);

      // join
      /*
        The join() method creates and returns a new string by concatenating all of the elements in an array
        (or an array-like object), separated by commas or a specified  separator string.
        If the array has only one item, then that item will be returned without using the separator.
      */
      const elements = ["Fire", "Air", "Water"];
      console.log(elements.join());
      // expected output: "Fire,Air,Water"
      console.log(elements.join(""));
      // expected output: "FireAirWater"
      console.log(elements.join("-"));
      // expected output: "Fire-Air-Water"

      let names = actors01.map((actores) => actores.name).join(", ");
      console.log(names);

      // reduce

      const array1 = [1, 2, 3, 4];
      // 1 + 2 + 3 + 4:  this is what sumWithInitia will do
      // with initial value
      const initialValue = 0;
      const sumWithInitial = array1.reduce(
        (accumulator, currentValue) => accumulator + currentValue,
        initialValue
      );
      console.log(sumWithInitial);

      // other way without initial value
      let result02 = array1.reduce(
        (accumulator, currentValue) => accumulator + currentValue
      );
      console.log(result02);

      // we can use any variable name
      result03 = array1.reduce((a, b) => a + b);
      console.log(result03);

      // sum the netWorth of all the actors
      const actors = [
        { name: "Johnny", netWorth: 200 },
        { name: "Amber", netWorth: 100 },
        { name: "Leonardo", netWorth: 300 },
      ];
      result = actors.reduce(
        (a, b) => a + b.netWorth,
        0 // for the object we needed to add initial value of 0
      );
      console.log(result);
    </script>
  </body>
</html>
